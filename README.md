# EmoBridge
[EmoBridge](https://emobridge.net/)

## サービス概要
EmoBridge（エモブリッジ）は夫婦やカップルがお互いの感情を理解し、円満なコミュニケーションを図るためのサービスです。

## 想定されるユーザー層
夫婦、カップル

## サービスコンセプト
**EmoBridge（エモブリッジ）は、夫婦やカップルの「気持ちのすれ違い」を防ぐためのアプリです。**

一緒に暮らしていても、「なんとなく相手の機嫌が悪い気がする」「本当はどう思ってるのかわからない」——そんな経験、誰しもあるのではないでしょうか。

このアプリでは、自分の感情（たとえば「嬉しい」「疲れた」「体調が悪い」など）を顔文字で選び、その理由を「仕事」「育児」「趣味」などのカテゴリから選んで記録できます。そして、「話を聞いてほしい」「独りの時間がほしい」といった伝えたい気持ちも、簡単に選んで相手に伝えることができます。

たとえば、「今日は仕事でクタクタだから、帰ったら少し一人でゆっくりしたい」——そんな気持ちをアプリで共有しておけば、相手も事前に理解でき、余計なすれ違いを防げます。

また、嬉しい出来事があったときも「今日はいいことがあったよ、話を聞いてほしい」と伝えることで、自然と会話のきっかけが生まれます。

メッセージはLINEで送ることもできるし、自分だけの記録として残すことも可能。後から見返して、気持ちの変化を振り返ることもできます。

**EmoBridgeは、「言わなくてもわかる」ではなく、「ちゃんと伝える」を応援するツール。日々のちょっとした気持ちの橋渡しで、ふたりの関係がもっとあたたかく、スムーズになることを目指しています。**

## アプリ機能
| ホーム画面 | 感情記録作成 |
|:-----------:|:------------:|
| [![Image from Gyazo](https://i.gyazo.com/b44ae48ba1a3723d6d3fe44c095cab3e.gif)](https://gyazo.com/b44ae48ba1a3723d6d3fe44c095cab3e) | [![Image from Gyazo](https://i.gyazo.com/66c63fe01d648e4d7d88155c79525df1.gif)](https://gyazo.com/66c63fe01d648e4d7d88155c79525df1) |

</br>

| 感情記録一覧 | 相手の記録一覧 |
|:-----------:|:------------:|
| [![Image from Gyazo](https://i.gyazo.com/e55a0a32e1799e69e00b54b30a786e84.gif)](https://gyazo.com/e55a0a32e1799e69e00b54b30a786e84) | [![Image from Gyazo](https://i.gyazo.com/9c53e1dbfa2f5b7e1725c718c8c85b3e.gif)](https://gyazo.com/9c53e1dbfa2f5b7e1725c718c8c85b3e)|


## サービスの差別化ポイント・推しポイント
### 差別化ポイント
* 「感情の可視化」：ユーザーが自身の感情を顔文字から選択することで、直感的に感情をパートナーと共有することができます。
* 「感情の原因を特定」：感情の原因をカテゴリーから選択し、それを5段階評価することで具体的な原因を特定し、それをパートナーと共有することができます。
* 「伝えたいことが明確化」：ユーザーは伝えたいことをテンプレートから選択、あるいは自由に入力することができるため、ユーザーは自身の感情に対する具体的な要望や期待を明確に伝えることができます。（テンプレートには、普段言いにくいことや相手に配慮した言葉を用意します）

### 推しポイント
* 「円満なコミュニケーションの促進」：ユーザーが自身の感情をパートナーと共有することで、お互いの理解が深まり、よりコミュニケーションを図ることができます。また、記録を共有することで会話のネタが増え、コミュニケーション不足からも解消されます。
* 「感情の記録と振り返り」：ユーザーは感情を記録し、日記のように振り返ることができることで、自己理解を深めることできます。

## 実装を予定している機能
### MVP
* 会員登録
* ログイン
* 自身の感情選択（感情がわかる顔文字等の絵を選択）
* 感情の詳細入力（使用者が作成したカテゴリー分けされた情報 例：「仕事」「家事」「子育て」「趣味」について５段階評価する）
* 伝えたいことを入力（テンプレート「話を聞いて」などを選択、あるいは自由記入）
* 共有先への送信
* 入力内容の履歴
* パートナーからの受信履歴

### その後の機能
* 感情分析と分析結果に対するアドバイス機能
* 共有相手との通知設定（選択すると自動通知する等）
* 共有相手が適切な対応してくれた数をカウントして称号を付与する

### 機能
下記の技術の使用予定
* Ruby
* Ruby on Rails（ログイン、フォーム画面等）
* postgresql
* JavaScript（パートナーに情報を送信するかどうか確認）
* LINE Messaging API（パートナーに情報をLINE送信）
* ChatGPT API（その後の機能 感情分析、アドバイス）

## 画面遷移図
https://www.figma.com/file/AkZOpf1wkbdog1Dg8NHUH8/%E8%AA%B2%E9%A1%8C?type=design&node-id=0%3A1&mode=design&t=pEkxj7krkbQMIfUS-1



<details>
<summary>操作の流れ</summary>
1. ログイン画面：ユーザーがアプリにログインします。フォームは「メールアドレス」「パスワード」。ボタンは「ログイン（４へ）」、「サインアップ（２へ）」。リンク「パスワードをお忘れた（３へ）」。ヘッダー「ログイン（１へ）」「サインアップ（２へ）」<br>
2. サインアップ画面（１→２）：入力フォーム画面「名前」「メールアドレス」「パスワード」「パスワード確認」、「私は利用規約（４へ）とプライバシーポリシー（５へ）に同意します。」<br>
3. 仮パスワード送信画面（１→３）：フォームは「メールアドレス」。ボタン「送信する」。<br>
4. 利用規約画面（２→４）：利用規約を表示。<br>
5. プライバシーポリシー（２→５）：プライバシーポリシーを表示。<br>
6. ログイン後ホーム画面（１→６）：ログイン後、ユーザーはホーム画面に遷移する。ここでは、トップ画像と中央に紙飛行機のアイコンを表示。このアイコンをクリックすると感情入力画面へ（１１へ）。<br>
7. ログイン後全ページ共通：ヘッダー左側「ハンバーガーメニュー（「招待（８へ）」「設定（９へ）」「ヘルプ（１０へ）」「ログアウト（１へ）」）」と右側「鈴（通知）」とする。フッターにボタンを「ホーム（６へ）」「マイページ（１１へ）」、「パートナーの記録（１３へ）」「自身の記録（１４へ）」設ける。<br>
8. 招待（７→８）：入力フォーム「ID入力」（設定画面にあるIDを入力すると相手へ招待できる。）ボタン「送信」。共有者リスト（確認と削除ができる）<br>
9. 設定（８→９）：プロフィールの設定（編集できる）。ボタン「保存する」。<br>
10. ヘルプ（７→８）：ヘルプを表示。<br>
11. マイページ：ページ上部に自身のプロフィール画像の横に名前が表示される。ボタン「変更（９へ）」。中央にカテゴリーの設定、相手に伝えたいことのテンプレート作成、編集操作が可能。ボタン「保存」<br>
12. 感情入力画面（６→１２）：ユーザーが感情を選択、感情の詳細を入力する画面に遷移します。ここでは、ユーザーの状態を選択して、その後、ユーザーが感情の原因をカテゴリーから選択し、5段階評価できます。その後、伝えたいことを選択する。その他を選択すると自由記入欄が表示されて入力できる。ボタン「保存（１３へ）」<br>
13. ポップアップ画面（１２→１３）：相手のLINEへ送信しますか。ボタン「送信する（６へ）」「送信しない（６へ）」<br>
14. パートナーの記録（７→１４）：共有（EmoBridge）した相手の記録がリスト表示されます。<br>
15. 自身の記録（７→１５）：自身の記録がリスト表示されます。<br>
</details>

## ER図
[![Image from Gyazo](https://i.gyazo.com/12bcc494376bd622c895c1a9ec705790.png)](https://gyazo.com/12bcc494376bd622c895c1a9ec705790)

1. **Usersテーブル**
ユーザーの情報の管理する（ログイン機能：sorceryを想定）
- id (integer): ユーザーID。
- name (string): ユーザー名。
- email (string): ユーザーのメールアドレス。
- crypted_password (string): ユーザーのパスワード。
- salt (string): ユーザーのパスワード。
- line_user_id: ユーザーのLINEID。
- unique_id: パートナーとの紐づけID。
2. **Emotionsテーブル**
ユーザーの感情記録を管理する
- id (integer): 感情記録のID。
- user_id (integer): この感情記録を作成したユーザーのID。
- feeling (string): ユーザーが選択した感情を表す顔文字。
- feeling_score (integer): 顔文字にリンクした数値。追加機能の感情分析で使用予定。
3. **Categoriesテーブル**
感情評価のカテゴリー一覧を管理する
- id (integer): カテゴリーのID。
- name (string): カテゴリーの名前。
4. **UserCategoriesテーブル**
ユーザーが使用する感情評価カテゴリー一覧を管理
- id (integer): ユーザーカテゴリーのID。
- user_id (integer): このカテゴリーを設定したユーザーのID。
- category_id (integer): ユーザーが設定したカテゴリーのID。
5. **EmotionCategoriesテーブル**
感情記録と感情評価カテゴリーの関係を管理する
- id (integer): 感情カテゴリーのID。
- emotion_id (integer): このカテゴリー評価が関連する感情記録のID。
- user_category_id (integer): 評価されたユーザーカテゴリーのID。
- rating (integer): ユーザーが選択したカテゴリーの評価（1から5まで）。
6. **EmotionMessagesテーブル**
感情記録と伝えたいことの関係を管理する
- id (integer): メッセージのID。
- user_id (integer): このメッセージを設定したユーザーのID。
- emotion_id (integer): このメッセージが関連する感情記録のID。
- user_template_id (integer): ユーザー指定するメッセージテンプレート。
- message (text): ユーザーが入力するメッセージ。
7. **UserTemplatesテーブル**
ユーザーがセットしているテンプレートを管理する
- id (integer): ユーザーメッセージのID。
- user_id (integer): このメッセージを設定したユーザーのID。
- message_template_id (integer): ユーザーが設定したメッセージテンプレートのID。
8. **MessageTemplatesテーブル**
メッセージのテンプレートを管理する
- id (integer): メッセージテンプレートのID。
- message (text): テンプレートメッセージ。
9. **EmotionPartnersテーブル**
感情記録を共有したパートナーとの関係を管理する
- id (integer): パートナー関係のID。
- user_id (integer): パートナー関係を設定したユーザーのID。
- partner_id (integer): ユーザーがパートナーとして設定したユーザーのID。
10. **Invitationsテーブル**
ユーザーが共有したいパートナーを招待する際の状態を管理する
- id (integer): 招待のID。
- sender_id (integer): 招待を送ったユーザーのID。
- receiver_id (integer): 招待を受け取ったユーザーのID。
- status (integer): 招待の状態。
11. **Notificationsテーブル**
感情記録の通知を誰が受け取り、誰がそれを送ったか、通知状態を管理する
- id (integer): 通知のID。
- user_id (integer): 通知を受け取るユーザーのID。
- partner_id (integer): 通知を送るパートナーのID。
- emotion_id (integer): 通知が関連する感情記録のID。
- status (integer): 通知の状態。
12. **Likesテーブル（追加機能予定）**
感情記録に良いねをした際に、送ったユーザーと受けたユーザーを管理する
- id (integer): いいねのID。
- emotion_id (integer):いいねされた感情記録のID。
- sender_id (integer): いいねを送ったユーザーのID。
- receiver_id (integer): いいねを受け取ったユーザーのID。
